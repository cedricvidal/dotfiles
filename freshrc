# freshshell.com
#
# Examples:
#
#   fresh twe4ked/dotfiles shell/functions/\*
#   fresh jasoncodes/dotfiles shell/aliases/rails.sh
#   fresh jasoncodes/dotfiles config/tmux.conf --file
#
# See http://freshshell.com/readme for documentation.

fresh freshshell/fresh bin/fresh --bin

# Link installers for homebrew, node, bash-it, ...
fresh installers/fresh-install-\* --bin

fresh config/\* --file
fresh boot2docker/profile --file=~/.boot2docker/profile

# Homebrew installer configuration files
fresh homebrew/formulas\* --file=$FRESH_PATH/installers/homebrew/formulas
fresh homebrew/cask-formulas\* --file=$FRESH_PATH/installers/homebrew/cask-formulas
fresh homebrew/taps\* --file=$FRESH_PATH/installers/homebrew/taps

# Node installer configuration files
fresh node/modules\* --file=$FRESH_PATH/installers/node/modules

fresh bin/\* --bin

if [[ "$OSTYPE" == "darwin"* ]]; then

	fresh osx/defaults/\* --bin=$FRESH_PATH/installers/osx/defaults.sh

	# Convert XML plist to binary and link it
	fresh osx/prefs/com.dustinrue.ControlPlane.plist --file=~/Library/Preferences/com.dustinrue.ControlPlane.plist --filter="plutil -convert binary1 -o - -"
#	fresh osx/prefs/com.googlecode.iterm2.plist --file=~/Library/Preferences/com.googlecode.iterm2.plist --filter="plutil -convert binary1 -o - -"

fi

fresh shell/completions/\*.sh
fresh shell/\*.sh

#fresh nicknisi/dotfiles tmux/theme.sh --file=~/.tmux.conf
fresh jasoncodes/dotfiles config/tmux.conf --file

fresh_after_build() {

	# Run all sourced installers
	fresh install-all
}

